{"version":3,"file":"js/522.d7bf4837.js","mappings":"oKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAQF,EAAII,QAASF,EAAG,MAAM,CAACG,YAAY,eAAeC,GAAG,CAAC,OAASN,EAAIO,eAAe,CAACL,EAAG,MAAM,CAACG,YAAY,UAAU,CAACH,EAAG,gBAAgB,CAACM,MAAM,CAAC,OAASR,EAAIS,QAAQH,GAAG,CAAC,gBAAgBN,EAAIU,iBAAiB,GAAGR,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACM,MAAM,CAAC,QAAUR,EAAII,QAAQ,SAAWJ,EAAIW,aAAa,GAA+B,YAA3BX,EAAII,QAAQQ,aAA4BV,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,gBAAgB,CAACM,MAAM,CAAC,QAAUR,EAAII,YAAY,GAAGJ,EAAIa,KAAkC,YAA5Bb,EAAII,QAAQQ,aAA4BV,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,OAAO,CAACF,EAAIc,GAAG,UAAUd,EAAIa,OAAOb,EAAIa,IACjnB,EACGE,EAAkB,G,uCC0BtB,GACAC,OACA,OACAC,UAAAA,KAAAA,OAAAA,MAAAA,WACAR,OAAAA,EACAL,QAAAA,CAAAA,EACAO,SAAAA,GAEA,EACAO,MAAAA,CACA,6BACA,gBACA,EAEAD,UAAAA,EAAAA,QACA,aACA,sBACA,2BAEA,GAEAE,UACA,iDACA,2DACA,sBACA,0BACA,EACAC,QAAAA,CACAC,iBACA,YACAC,IAAA,4DACAC,MAAA,EAAAP,WACA,iBAGA,EACAQ,sBACA,YACAF,IAAA,+EACAC,MAAA,EAAAP,WACA,kBAEA,EACAN,eACA,eACA,EACAH,aAAAA,GACA,wCAEA,GAEAkB,WAAAA,CAAAC,eAAAA,EAAAA,EAAAC,cAAAA,EAAAA,EAAAC,cAAAA,EAAAA,IC/EwQ,I,UCQpQC,GAAY,OACd,EACA9B,EACAgB,GACA,EACA,KACA,WACA,MAIF,EAAec,EAAiB,O","sources":["webpack://cbn-magazine/./src/views/HomeChildren/HomeArticleView.vue","webpack://cbn-magazine/src/views/HomeChildren/HomeArticleView.vue","webpack://cbn-magazine/./src/views/HomeChildren/HomeArticleView.vue?d62b","webpack://cbn-magazine/./src/views/HomeChildren/HomeArticleView.vue?1908"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.article)?_c('div',{staticClass:\"home-article\",on:{\"scroll\":_vm.scrollHieght}},[_c('div',{staticClass:\"header\"},[_c('ArticleHeader',{attrs:{\"scroll\":_vm.scroll},on:{\"article-clear\":_vm.articleClear}})],1),_c('div',[_c('ArticleContent',{attrs:{\"article\":_vm.article,\"recommed\":_vm.recommed}})],1),(_vm.article.article_type !='magazine' )?_c('div',{staticClass:\"article\"},[_c('ArticleFooter',{attrs:{\"article\":_vm.article}})],1):_vm._e(),(_vm.article.article_type == 'magazine')?_c('div',{staticClass:\"magazine\"},[_c('span',[_vm._v(\"订阅\")])]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"home-article\" v-if=\"article\" @scroll=\"scrollHieght\">\r\n    \r\n    <div class=\"header\">\r\n      <ArticleHeader @article-clear=\"articleClear\" :scroll=\"scroll\"/>\r\n    </div>\r\n    <!-- <van-loading color=\"#1989fa\" v-show=\"pageLoading\"/> -->\r\n    <div>\r\n      <ArticleContent\r\n        :article=\"article\"\r\n        :recommed=\"recommed\"\r\n      ></ArticleContent>\r\n    </div>\r\n\r\n    <div class=\"article\" v-if=\"article.article_type !='magazine' \">\r\n      <ArticleFooter :article=\"article\"/>\r\n    </div>\r\n\r\n    <div class=\"magazine\" v-if=\"article.article_type == 'magazine'\">\r\n      <span>订阅</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { debounce } from \"lodash-es\";\r\nimport ArticleContent from \"./ArticleContent.vue\";\r\nimport ArticleHeader from \"../../components/ArticleHeader.vue\";\r\nimport ArticleFooter from \"../../components/ArticleFooter.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      articleId: this.$route.query.article_id,\r\n      scroll:0,\r\n      article: {},\r\n      recommed:[]\r\n    };\r\n  },\r\n  watch: {\r\n    \"$route.query.article_id\"(val) {\r\n      this.articleId = val;\r\n    },\r\n\r\n    articleId(a, b) {\r\n      if (a != undefined && a != b) {\r\n        this.getArticleData();\r\n        this.getArticleRecommend()\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getArticleData = debounce(this.getArticleData);\r\n    this.getArticleRecommend = debounce(this.getArticleRecommend);\r\n    this.getArticleData();\r\n    this.getArticleRecommend()\r\n  },\r\n  methods: {\r\n    getArticleData() {\r\n      this.$axios\r\n        .get(`http://api2021.cbnweek.com/v4/articles/${this.articleId}`)\r\n        .then(({ data }) => {\r\n          this.article = data;\r\n          // this.pageLoading=false\r\n        });\r\n    },\r\n    getArticleRecommend(){\r\n      this.$axios\r\n        .get(`http://api2021.cbnweek.com:80/v4/articles/${this.articleId}/recommendations`)\r\n        .then(({ data }) => {\r\n          this.recommed = data;\r\n        });\r\n    },\r\n    articleClear(){\r\n      this.article=''\r\n    },\r\n    scrollHieght(event){\r\n      this.scroll=parseInt(event.target.scrollTop)\r\n  \r\n    }\r\n  },\r\n  components: { ArticleContent, ArticleHeader, ArticleFooter },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.home-article {\r\n  position: fixed;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  left: 0;\r\n  top: 0;\r\n  overflow: auto;\r\n\r\n  .magazine {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    padding: 10px 3vw;\r\n    border-top: 1px solid #eee;\r\n    width: 100%;\r\n    height: 45px;\r\n    color: #fff;\r\n    font-size: 16px;\r\n    background-color: #0090f0;\r\n    z-index: 999;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeArticleView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeArticleView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeArticleView.vue?vue&type=template&id=2ebc6004&scoped=true&\"\nimport script from \"./HomeArticleView.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeArticleView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeArticleView.vue?vue&type=style&index=0&id=2ebc6004&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ebc6004\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","article","staticClass","on","scrollHieght","attrs","scroll","articleClear","recommed","article_type","_e","_v","staticRenderFns","data","articleId","watch","created","methods","getArticleData","get","then","getArticleRecommend","components","ArticleContent","ArticleHeader","ArticleFooter","component"],"sourceRoot":""}