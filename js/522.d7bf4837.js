"use strict";(self["webpackChunkcbn_magazine"]=self["webpackChunkcbn_magazine"]||[]).push([[522],{7522:function(t,e,i){i.r(e),i.d(e,{default:function(){return g}});var a=function(){var t=this,e=t._self._c;return t.article?e("div",{staticClass:"home-article",on:{scroll:t.scrollHieght}},[e("div",{staticClass:"header"},[e("ArticleHeader",{attrs:{scroll:t.scroll},on:{"article-clear":t.articleClear}})],1),e("div",[e("ArticleContent",{attrs:{article:t.article,recommed:t.recommed}})],1),"magazine"!=t.article.article_type?e("div",{staticClass:"article"},[e("ArticleFooter",{attrs:{article:t.article}})],1):t._e(),"magazine"==t.article.article_type?e("div",{staticClass:"magazine"},[e("span",[t._v("订阅")])]):t._e()]):t._e()},r=[],c=i(881),l=i(3903),s=i(3978),o=i(8024),n={data(){return{articleId:this.$route.query.article_id,scroll:0,article:{},recommed:[]}},watch:{"$route.query.article_id"(t){this.articleId=t},articleId(t,e){void 0!=t&&t!=e&&(this.getArticleData(),this.getArticleRecommend())}},created(){this.getArticleData=(0,c.Z)(this.getArticleData),this.getArticleRecommend=(0,c.Z)(this.getArticleRecommend),this.getArticleData(),this.getArticleRecommend()},methods:{getArticleData(){this.$axios.get(`http://api2021.cbnweek.com/v4/articles/${this.articleId}`).then((({data:t})=>{this.article=t}))},getArticleRecommend(){this.$axios.get(`http://api2021.cbnweek.com:80/v4/articles/${this.articleId}/recommendations`).then((({data:t})=>{this.recommed=t}))},articleClear(){this.article=""},scrollHieght(t){this.scroll=parseInt(t.target.scrollTop)}},components:{ArticleContent:l.Z,ArticleHeader:s.Z,ArticleFooter:o.Z}},d=n,h=i(1001),m=(0,h.Z)(d,a,r,!1,null,"2ebc6004",null),g=m.exports}}]);
//# sourceMappingURL=522.d7bf4837.js.map