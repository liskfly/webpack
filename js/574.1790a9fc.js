"use strict";(self["webpackChunkcbn_magazine"]=self["webpackChunkcbn_magazine"]||[]).push([[574],{1574:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var c=function(){var t=this,e=t._self._c;return t.article?e("div",{staticClass:"home-article",on:{scroll:t.scrollHieght}},[e("div",{staticClass:"header"},[e("ArticleHeader",{attrs:{scroll:t.scroll},on:{"article-clear":t.articleClear}})],1),e("div",[e("ArticleContent",{attrs:{article:t.article,recommed:t.recommed}})],1),t.article.probation&&"subject"==t.article.article_type?e("div",{staticClass:"article"},[e("ArticleFooter")],1):t._e(),t.article.probation||"subject"!=t.article.article_type?t._e():e("div",{staticClass:"magazine"},[e("span",[t._v(t._s("¥"+t.article.subject.price+"订阅单行本《"+t.article.subject.name+"》"))])])]):t._e()},r=[],a=i(881),l=i(3903),s=i(3978),o=i(8024),n={data(){return{articleId:this.$route.query.subject_article_id,scroll:0,article:{},recommed:[]}},watch:{"$route.query.subject_article_id"(t){this.articleId=t},articleId(t,e){void 0!=t&&t!=e&&(this.getArticleData(),this.getArticleRecommend())}},created(){this.getArticleData=(0,a.Z)(this.getArticleData),this.getArticleRecommend=(0,a.Z)(this.getArticleRecommend),this.getArticleData(),this.getArticleRecommend()},methods:{getArticleData(){this.$axios.get(`http://api2021.cbnweek.com/v4/articles/${this.articleId}`).then((({data:t})=>{this.article=t}))},getArticleRecommend(){this.$axios.get(`http://api2021.cbnweek.com:80/v4/articles/${this.articleId}/recommendations`).then((({data:t})=>{this.recommed=t}))},articleClear(){this.article=""},scrollHieght(t){this.scroll=parseInt(t.target.scrollTop)}},components:{ArticleContent:l.Z,ArticleHeader:s.Z,ArticleFooter:o.Z}},d=n,h=i(1001),m=(0,h.Z)(d,c,r,!1,null,"9a79202a",null),u=m.exports}}]);
//# sourceMappingURL=574.1790a9fc.js.map