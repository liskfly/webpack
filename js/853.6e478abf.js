"use strict";(self["webpackChunkcbn_magazine"]=self["webpackChunkcbn_magazine"]||[]).push([[853],{2853:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"choiceBook"},[e("div",{staticClass:"top"},[e("img",{attrs:{src:a(6248)},on:{click:t.goBack}}),e("div",{staticClass:"type"},[t._v(t._s(t.typeChinese))])]),t.book[0]?e("ul",{staticClass:"book"},t._l(t.book,(function({cover_url:a,summary:o,display_time:i,id:n},s){return e("li",{key:s,on:{click:function(e){return t.goMagazineData(n)}}},[e("img",{attrs:{src:a}}),e("span",{staticClass:"summary"},[t._v(t._s(o))]),e("span",{staticClass:"time"},[t._v(t._s(t.getTime(i)))])])})),0):t._e(),t.book[0]?t._e():e("div",{staticClass:"book"},[t._v("这期没有书")])])},i=[],n=(a(7658),a(7276)),s={data(){return{type:this.$route.query.choieBook_type,year:this.$route.query.choieBook_year,month:this.$route.query.choieBook_month,book:[],typeChinese:""}},created(){this.showBook()},activated(){this.showBook()},watch:{"$route.query.choieBook_type"(t){this.type=t},"$route.query.choieBook_year"(t){this.year=t},"$route.query.choieBook_month"(t){this.month=t}},methods:{showBook(){this.type&&this.$axios.get(`http://api2021.cbnweek.com/v4/magazines?year=${this.year}&month=${this.month}&type=${this.type}`).then((({data:t})=>{this.book=t[0]?t[0].data:[],"magazine"==this.type?(this.typeChinese="杂志",this.type="Magazine"):"subject"==this.type&&(this.typeChinese="单行本",this.type="Subject")}))},getTime(t){return(0,n.tP)(t)},goBack(){this.$router.go(-1),this.book=[],this.typeChinese=""},goMagazineData(t){this.$router.push(`/magazineData?&magazineData_type=${this.type}&magazineData_id=${t}`)}}},h=s,r=a(1001),c=(0,r.Z)(h,o,i,!1,null,"339b03f0",null),g=c.exports},7276:function(t,e,a){a.d(e,{_3:function(){return o},tP:function(){return n},vV:function(){return i}});const o=t=>{let e=new Date(t),a=`${e.getFullYear()}年${e.getMonth()>=9?e.getMonth()+1:"0"+(e.getMonth()+1)}月${e.getDate()>=10?e.getDate():"0"+e.getDate()}日`;return a};function i(t){let e=new Date(t),a=`${e.getMonth()>=9?e.getMonth()+1:"0"+(e.getMonth()+1)}月${e.getDate()>=10?e.getDate():"0"+e.getDate()}日`;return a}const n=t=>{let e=new Date(t),a=`${e.getFullYear()}.${e.getMonth()>=9?e.getMonth()+1:"0"+(e.getMonth()+1)}.${e.getDate()>=10?e.getDate():"0"+e.getDate()}`;return a}},6248:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABFCAYAAAAmXZRaAAACMklEQVRoQ83aMU/CQBQH8PdKdDGBtEJc1H4G/QYaEzdnFweNm4uDq5ubk4mbkbg5G0eNfgL5DIKTWloQokakZ8BgADla2nf3rluby/WXe9em/echGHogp8vJuwcAYr9jCBGOa6+Vk56HC2Y5s+4ZWLAzsDBheORXnw471zhgo1EAIAS0Aq88AwAt7TCn4BYBYFu2hb4+PueazecXrbAolBDiOvAqG1pLGQNVwrC54vv+my6YdE/1yimEKEG7sRoEQV3XU5kIpXrFEqNUwlKhVMFSo1TASFDUMDIUJYwURQUjR1HAlKDSwpSh0sCUopLClKOSwLSgJoVpQ00C04qKC9OOigNjQUXB2FDjYKwoGYwdNQpmBGoYZgyqH2YUqgczDtWF2QX3FAH2ZFnCqJ9R2VjK6+gUXDEG9SC+rbVa7bFGedM4c42FgYBz3yvvxpmIegzaefcSETalEzPh0LbtHGSy94iwZBKum49ls/NOZtq6QcRlKS6Eol/tllW6JynL+RfcmYYbSBRNwv2LOk3BjcxgTcBJw2Fu3NjUmhMXGadz4SJhXO+5WDAOXGyYbtxEMJ24iWG6cIlgOnCJYapxqWAqcalhqnAkMBU4Mhg1jhRGiSOHUeGUwChwymBpcUphaXDKYUlxWmDxcUy9PVGf6ay9Pb+4zK0sK2Hp7ellGzIcS2/PcOCSyy3a1hRcIGK3yUgIcRXA+xZ4XqNzrm3zy5Igx1lYb6PVqlfLd/1j2GEy8A/FfkpkIv+MpwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=853.6e478abf.js.map