{"version":3,"file":"js/888.6525556e.js","mappings":"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","sources":["webpack://cbn-magazine/./src/components/download-list/downloadChildren/SubjectType.vue","webpack://cbn-magazine/src/components/download-list/downloadChildren/SubjectType.vue","webpack://cbn-magazine/./src/components/download-list/downloadChildren/SubjectType.vue?966a","webpack://cbn-magazine/./src/components/download-list/downloadChildren/SubjectType.vue?b818","webpack://cbn-magazine/./src/assets/GetDate.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"subject\"},[(_vm.list[0])?_c('ul',{staticClass:\"subject-list\"},_vm._l((_vm.list),function({ id, cover_url, name, display_time },index){return _c('li',{key:id,style:({ marginRight: (index + 1) % 3 != 0 ? '3vw' : '' }),on:{\"click\":function($event){return _vm.goMagazineData(id, _vm.ischeck, index)}}},[_c('img',{attrs:{\"src\":cover_url}}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(name))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.getTime(display_time)))]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.checkarr[index].check && _vm.ischeck),expression:\"!checkarr[index].check && ischeck\"}],staticClass:\"check\",attrs:{\"type\":\"button\"}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.checkarr[index].check && _vm.ischeck),expression:\"checkarr[index].check && ischeck\"}],staticClass:\"isCheck\",attrs:{\"type\":\"button\"}})])}),0):_vm._e(),(!_vm.list[0])?_c('div',{staticClass:\"none\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/img/3T.png\")}}),_c('span',[_vm._v(\"暂无离线数据\")])]):_vm._e(),(_vm.ischeck)?_c('div',{staticClass:\"arrangement\"},[_c('div',{staticClass:\"allcheck\",on:{\"click\":_vm.all}},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allcheck),expression:\"allcheck\"}],staticClass:\"button1\",attrs:{\"type\":\"button\"}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.allcheck),expression:\"!allcheck\"}],staticClass:\"button2\",attrs:{\"type\":\"button\"}}),_c('span',[_vm._v(\"全部选中\")])]),_c('wd-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.remove}},[_vm._v(\"删除\")])],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"subject\">\r\n    <ul class=\"subject-list\" v-if=\"list[0]\">\r\n      <li\r\n        v-for=\"({ id, cover_url, name, display_time }, index) in list\"\r\n        :key=\"id\"\r\n        @click=\"goMagazineData(id, ischeck, index)\"\r\n        :style=\"{ marginRight: (index + 1) % 3 != 0 ? '3vw' : '' }\"\r\n      >\r\n        <img :src=\"cover_url\" />\r\n        <span class=\"name\">{{ name }}</span>\r\n        <span class=\"time\">{{ getTime(display_time) }}</span>\r\n        <button\r\n          class=\"check\"\r\n          type=\"button\"\r\n          v-show=\"!checkarr[index].check && ischeck\"\r\n        ></button>\r\n        <button\r\n          class=\"isCheck\"\r\n          type=\"button\"\r\n          v-show=\"checkarr[index].check && ischeck\"\r\n        ></button>\r\n      </li>\r\n    </ul>\r\n    <div class=\"none\" v-if=\"!list[0]\">\r\n      <img src=\"../../../assets/img/3T.png\" />\r\n      <span>暂无离线数据</span>\r\n    </div>\r\n    <div class=\"arrangement\" v-if=\"ischeck\">\r\n      <div class=\"allcheck\" @click=\"all\">\r\n        <button type=\"button\" class=\"button1\" v-show=\"allcheck\"></button>\r\n        <button type=\"button\" class=\"button2\" v-show=\"!allcheck\"></button>\r\n        <span>全部选中</span>\r\n      </div>\r\n      <wd-button size=\"small\" @click=\"remove\">删除</wd-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getPointDate } from \"@/assets/GetDate\";\r\nexport default {\r\n  props: [\"ischeck\"],\r\n  data() {\r\n    return {\r\n      list: [],\r\n      checkarr: [],\r\n      allcheck: true,\r\n      checknum: 0,\r\n      tranarr: []\r\n    }\r\n  },\r\n  created() {\r\n    this.getSubjectData();\r\n  },\r\n  methods: {\r\n    getTime(a) {\r\n      return getPointDate(a);\r\n    },\r\n    getSubjectData () {\r\n\r\n      this.list = JSON.parse(localStorage.getItem(\"SAVE_SUBJECT\"))\r\n      if (this.list[0]) {\r\n        this.list.forEach(() => {\r\n          this.checkarr.push({ check: false })\r\n        })\r\n      }\r\n    },\r\n    goMagazineData(id, ischeck, index) {\r\n      if (!ischeck) {\r\n        this.$router.push(\r\n          `/magazineData?&magazineData_type=Theme&magazineData_id=${id}`\r\n        );\r\n      } else {\r\n        this.checkarr[index].check = !this.checkarr[index].check;\r\n        this.checkarr.forEach(({ check }) => {\r\n          this.checknum = check == true ? this.checknum + 1 : this.checknum;\r\n        });\r\n        this.allcheck = this.checknum == this.checkarr.length ? false : true;\r\n      }\r\n      this.checknum = 0;\r\n    },\r\n    all() {\r\n      if (!this.allcheck) {\r\n        this.checkarr = this.checkarr.map(() => {\r\n          this.allcheck = true;\r\n          return { check: false };\r\n        });\r\n      } else {\r\n        this.checkarr = this.checkarr.map(() => {\r\n          this.allcheck = false;\r\n          return { check: true };\r\n        });\r\n      }\r\n    },\r\n\r\n    remove () {\r\n      console.log(this.list, this.checkarr);\r\n      this.list = this.list.filter((t, index) => this.checkarr[index].check == false)\r\n      this.tranarr = JSON.stringify(this.list)\r\n      window.localStorage.setItem('SAVE_SUBJECT', this.tranarr)\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.subject-list {\r\n  padding: 2vh 2vw;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  li {\r\n    width: 30vw;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    position: relative;\r\n\r\n    img {\r\n      width: 30vw;\r\n    }\r\n\r\n    .name {\r\n      width: 30vw;\r\n      font-weight: 700;\r\n      white-space: nowrap;\r\n      text-align: center;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      margin-top: 10px;\r\n    }\r\n\r\n    .time {\r\n      font-size: 12px;\r\n      color: grey;\r\n      margin-top: 10px;\r\n    }\r\n\r\n    .check {\r\n      position: absolute;\r\n\r\n      width: 14px;\r\n\r\n      height: 14px;\r\n\r\n      background-color: white;\r\n\r\n      border-radius: 50%;\r\n\r\n      border: 1px solid grey;\r\n\r\n      margin: 1px;\r\n\r\n      top: 3px;\r\n\r\n      right: 3px;\r\n    }\r\n\r\n    .isCheck {\r\n      position: absolute;\r\n\r\n      width: 14px;\r\n\r\n      height: 14px;\r\n\r\n      background-color: #0091ff;\r\n\r\n      border-radius: 50%;\r\n\r\n      border: 1px solid white;\r\n\r\n      margin: 1px;\r\n\r\n      top: 3px;\r\n\r\n      right: 3px;\r\n    }\r\n  }\r\n}\r\n.none {\r\n  width: 100vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  img {\r\n    width: 50vw;\r\n    height: 40vw;\r\n  }\r\n}\r\n\r\n.arrangement {\r\n  width: 100vw;\r\n  padding: 15px 20px;\r\n  position: fixed;\r\n  bottom: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  .allcheck {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .button1 {\r\n      width: 14px;\r\n\r\n      height: 14px;\r\n\r\n      background-color: white;\r\n\r\n      border-radius: 50%;\r\n\r\n      border: 1px solid grey;\r\n\r\n      margin: 1px;\r\n    }\r\n\r\n    .button2 {\r\n      width: 14px;\r\n\r\n      height: 14px;\r\n\r\n      background-color: #0091ff;\r\n\r\n      border-radius: 50%;\r\n\r\n      border: 1px solid white;\r\n\r\n      margin: 1px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SubjectType.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SubjectType.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubjectType.vue?vue&type=template&id=b8c8207a&scoped=true&\"\nimport script from \"./SubjectType.vue?vue&type=script&lang=js&\"\nexport * from \"./SubjectType.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubjectType.vue?vue&type=style&index=0&id=b8c8207a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b8c8207a\",\n  null\n  \n)\n\nexport default component.exports","export const getDate = (a) => {\r\n    let date = new Date(a);\r\n    let str = `${date.getFullYear()}年${date.getMonth() >= 9 ? date.getMonth() + 1 : '0' + (date.getMonth() + 1)\r\n        }月${date.getDate() >= 10 ? date.getDate() : '0' + date.getDate()}日`;\r\n    return str;\r\n}\r\nexport function getDateMon(a) {\r\n    let date = new Date(a);\r\n    let str = `${date.getMonth() >= 9 ? date.getMonth() + 1 : '0' + (date.getMonth() + 1)}月${date.getDate() >= 10 ? date.getDate() : '0' + date.getDate()}日`;\r\n    return str;\r\n}\r\nexport const getTime = (a) => {\r\n    let min = parseInt(a / 60);\r\n    min = min > 9 ? min : \"0\" + min;\r\n    let sec = a % 60;\r\n    sec = sec > 9 ? sec : \"0\" + sec;\r\n    return min + \":\" + sec;\r\n}\r\nexport const getPointDate = (a) => {\r\n    let date = new Date(a);\r\n    let str = `${date.getFullYear()}.${date.getMonth() >= 9 ? date.getMonth() + 1 : '0' + (date.getMonth() + 1)\r\n        }.${date.getDate() >= 10 ? date.getDate() : '0' + date.getDate()}`;\r\n    return str;\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","list","_l","id","cover_url","name","display_time","index","key","style","marginRight","on","$event","goMagazineData","ischeck","attrs","_v","_s","getTime","directives","rawName","value","checkarr","check","expression","_e","require","all","allcheck","remove","staticRenderFns","props","data","checknum","tranarr","created","methods","getSubjectData","console","window","component","getDate","a","date","Date","str","getFullYear","getMonth","getDateMon","getPointDate"],"sourceRoot":""}