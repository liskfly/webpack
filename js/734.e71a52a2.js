"use strict";(self["webpackChunkcbn_magazine"]=self["webpackChunkcbn_magazine"]||[]).push([[734],{2734:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"singles-search"},[e("div",{staticClass:"fixed"},[e("div",{staticClass:"header"},[e("span",{on:{click:t.goBack}},[t._v("<")]),e("span",[t._v("全部单行本")])]),e("div",{staticClass:"input",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.keyDown.apply(null,arguments)}}},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:"search-bar",attrs:{placeholder:"搜索",type:"text"},domProps:{value:t.val},on:{input:function(e){e.target.composing||(t.val=e.target.value)}}}),e("i",{directives:[{name:"show",rawName:"v-show",value:t.val,expression:"val"}],on:{click:t.deleteVal}},[e("img",{attrs:{src:s(6073)}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.val,expression:"val"}],staticClass:"list-container"},[e("div",{staticClass:"list"},[t._l(t.list,(function(s,a){return e("div",{key:a,staticClass:"list-item",on:{click:function(e){return t.goMagazineData(s.content.type,s.content.id)}}},[e("i",{staticClass:"subject-icon"},[e("img",{attrs:{src:s.content.cover_url}})]),e("div",{staticClass:"text"},[e("span",[t._v(t._s(s.content.name))])])])})),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.list.length,expression:"!list.length"}],staticClass:"empty"},[t._m(1),e("div",[t._v("暂无搜索结果，换个关键字试试吧")])])],2)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.val,expression:"!val"}],staticClass:"list-container"},[e("div",{staticClass:"list"},t._l(t.singles,(function(s,a){return e("div",{key:a,staticClass:"list-item",on:{click:function(e){return t.goMagazineData(s.type,s.id)}}},[e("i",{staticClass:"subject-icon"},[e("img",{attrs:{src:s.cover_url}})]),e("div",{staticClass:"text"},[e("span",[t._v(t._s(s.name))]),e("span",[t._v(t._s(s.articles_count)+"篇文章")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:s.price,expression:"item.price"}],staticClass:"price"},[t._v(" "+t._s(s.price)+" ")])])})),0),e("wd-infinite-load",{ref:"loadmore",attrs:{"finished-text":"",loading:t.loading},on:{loadmore:t.loadmore}})],1)])},i=[function(){var t=this,e=t._self._c;return e("i",[e("img",{attrs:{src:s(1238)}})])},function(){var t=this,e=t._self._c;return e("i",[e("img",{attrs:{src:s(5298)}})])}],n=(s(7658),{data(){return{singles:[],list:[],val:null,num:10,loading:!1,time:3}},created(){this.getSinglesDate()},methods:{goMagazineData(t,e){t=t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase(),this.$router.push(`/magazineData?&magazineData_type=${t}&magazineData_id=${e}`)},keyDown(){this.$axios.get(`https://api2021.cbnweek.com/v4/pg_search_documents?page=1&per=${this.num}&query=${this.val}&query_type=subject&type=android`).then((({data:t})=>{this.list=t,console.log(this.list)}))},deleteVal(){this.val=null},goBack(){this.$router.go(-1)},getSinglesDate(){this.$axios.get(`http://api2021.cbnweek.com:80/v4/theme_subjects?page=1&per=${this.num}`).then((({data:t})=>{this.singles=t,console.log(t)}))},loadmore(){this.loading=!0,this.time?(this.num+=10,setTimeout((()=>{this.$axios.get(`http://api2021.cbnweek.com:80/v4/theme_subjects?page=1&per=${this.num}`).then((({data:t})=>{this.singles=t,this.loading=!1,this.time--}))}),1e3)):this.$refs.loadmore.loadEnd()}}}),l=n,o=s(1001),r=(0,o.Z)(l,a,i,!1,null,"0808b937",null),c=r.exports}}]);
//# sourceMappingURL=734.e71a52a2.js.map