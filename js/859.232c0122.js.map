{"version":3,"file":"js/859.232c0122.js","mappings":"oKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,OAASL,EAAIM,UAAUJ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQL,EAAIO,MAAM,IAAMP,EAAIQ,OAAQR,EAAIO,MAAME,OAAQP,EAAG,mBAAmB,CAACQ,IAAI,WAAWL,MAAM,CAAC,QAAUL,EAAIW,SAASC,GAAG,CAAC,SAAWZ,EAAIa,YAAYb,EAAIc,MAAM,EAC1U,EACGC,EAAkB,G,uCCgBtB,GACAC,OACA,OACAC,IAAAA,GACAC,QAAAA,GACAZ,OAAAA,GACAa,KAAAA,GACAZ,MAAAA,GACAa,MAAAA,IAAAA,MAAAA,cACAZ,IAAAA,GACAa,SAAAA,GACAV,SAAAA,EAEA,EACAW,UACA,+CACA,kDACA,EACAC,UACA,qBACA,sBACA,EACAC,QAAAA,CACAC,gBACA,YACAC,IAAA,mEACAC,MAAA,EAAAX,WACA,WACA,gBAAAA,WACA,WACAA,EAAAA,KAAAA,GAAAA,KAAAA,OAAAA,KAAAA,KAEA,sBACA,GALA,GAQA,EACAY,kBACA,YACA,yBACA,YACAF,IACA,2EAEAC,MAAA,EAAAX,WACA,gBACA,qBAAAA,WACA,WACAA,EAAAA,KAAAA,GAAAA,KAAAA,MAAAA,KAAAA,KAEA,qBACA,IAEA,qBACA,kBADA,IAIAa,OAAA,mCACA,EACAhB,WAEA,qCACA,gBACA,uBAEA,GAEAiB,WAAAA,CACAC,WADA,IAEAC,OAAAA,EAAAA,ICvF8Q,I,UCO1QC,GAAY,OACd,EACAlC,EACAgB,GACA,EACA,KACA,KACA,MAIF,EAAekB,EAAiB,O","sources":["webpack://cbn-magazine/./src/views/ReadView/ReadChildren/MagazineView.vue","webpack://cbn-magazine/src/views/ReadView/ReadChildren/MagazineView.vue","webpack://cbn-magazine/./src/views/ReadView/ReadChildren/MagazineView.vue?a3b8","webpack://cbn-magazine/./src/views/ReadView/ReadChildren/MagazineView.vue?c73f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"allView\"},[_c('ReadBanner',{attrs:{\"banner\":_vm.banner}}),_c('NewOne',{attrs:{\"book1\":_vm.book1,\"num\":_vm.num}}),(_vm.book1.length)?_c('wd-infinite-load',{ref:\"loadmore\",attrs:{\"loading\":_vm.loading},on:{\"loadmore\":_vm.loadmore}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"allView\">\r\n    <ReadBanner :banner=\"banner\"></ReadBanner>\r\n    <NewOne :book1=\"book1\" :num=\"num\"></NewOne>\r\n    <wd-infinite-load\r\n      ref=\"loadmore\"\r\n      @loadmore=\"loadmore\"\r\n      :loading=\"loading\"\r\n      v-if=\"book1.length\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ReadBanner from \"@/components/ReadBanner\";\r\nimport NewOne from \"@/components/newOne.vue\";\r\nimport { debounce } from \"lodash-es\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      arr: [],\r\n      arrbook: [],\r\n      banner: [],\r\n      book: [],\r\n      book1: [],\r\n      year: new Date().getFullYear(),\r\n      num: [],\r\n      arrbook1: [],\r\n      loading: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.getBannerData = debounce(this.getBannerData);\r\n    this.getHomeNewsData = debounce(this.getHomeNewsData);\r\n  },\r\n  mounted() {\r\n    this.getBannerData();\r\n    this.getHomeNewsData();\r\n  },\r\n  methods: {\r\n    getBannerData() {\r\n      this.$axios\r\n        .get(\"http://api2021.cbnweek.com/v4/magazines?year=2022&type=magazine\")\r\n        .then(({ data }) => {\r\n          this.arr = data;\r\n          this.arr.map(({ data }) => {\r\n            if (data.length > 1) {\r\n              data.map((item) => this.banner.push(item));\r\n            } else {\r\n              this.banner.push(data[0]);\r\n            }\r\n          });\r\n        });\r\n    },\r\n    getHomeNewsData() {\r\n      this.year--;\r\n      this.num.push(this.year);\r\n        this.$axios\r\n          .get(\r\n            `http://api2021.cbnweek.com/v4/magazines?year=${this.year}&type=magazine`\r\n          )\r\n          .then(({ data }) => {\r\n            this.arrbook1 = data;\r\n            this.arrbook1.map(({ data }) => {\r\n              if (data.length > 1) {\r\n                data.map((item) => this.book1.push(item));\r\n              } else {\r\n                this.book1.push(data[0]);\r\n              }\r\n            });\r\n            this.$nextTick(() => {\r\n              this.loading = false;\r\n            });\r\n          })\r\n          .catch(() => this.$refs.loadmore.loadEnd());\r\n    },\r\n    loadmore() {\r\n      // console.log(this.$route.path);\r\n      if (this.$route.path == \"/read/magazine\") {\r\n        this.loading = true;\r\n        this.getHomeNewsData();\r\n      }\r\n    },\r\n  },\r\n  components: {\r\n    ReadBanner,\r\n    NewOne,\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MagazineView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MagazineView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MagazineView.vue?vue&type=template&id=18cbc465&\"\nimport script from \"./MagazineView.vue?vue&type=script&lang=js&\"\nexport * from \"./MagazineView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","banner","book1","num","length","ref","loading","on","loadmore","_e","staticRenderFns","data","arr","arrbook","book","year","arrbook1","created","mounted","methods","getBannerData","get","then","getHomeNewsData","catch","components","ReadBanner","NewOne","component"],"sourceRoot":""}