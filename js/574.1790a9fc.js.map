{"version":3,"file":"js/574.1790a9fc.js","mappings":"oKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAQF,EAAII,QAASF,EAAG,MAAM,CAACG,YAAY,eAAeC,GAAG,CAAC,OAASN,EAAIO,eAAe,CAACL,EAAG,MAAM,CAACG,YAAY,UAAU,CAACH,EAAG,gBAAgB,CAACM,MAAM,CAAC,OAASR,EAAIS,QAAQH,GAAG,CAAC,gBAAgBN,EAAIU,iBAAiB,GAAGR,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACM,MAAM,CAAC,QAAUR,EAAII,QAAQ,SAAWJ,EAAIW,aAAa,GAAIX,EAAII,QAAQQ,WAAyC,WAA5BZ,EAAII,QAAQS,aAA2BX,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,kBAAkB,GAAGF,EAAIc,KAAOd,EAAII,QAAQQ,WAAyC,WAA5BZ,EAAII,QAAQS,aAA8Kb,EAAIc,KAAvJZ,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,OAAO,CAACF,EAAIe,GAAGf,EAAIgB,GAAG,IAAMhB,EAAII,QAAQa,QAAQC,MAA1B,SAAkDlB,EAAII,QAAQa,QAAQE,KAAO,YAAqBnB,EAAIc,IACttB,EACGM,EAAkB,G,uCCwBtB,GACAC,OACA,OACAC,UAAAA,KAAAA,OAAAA,MAAAA,mBACAb,OAAAA,EACAL,QAAAA,CAAAA,EACAO,SAAAA,GAEA,EACAY,MAAAA,CACA,qCACA,gBACA,EAEAD,UAAAA,EAAAA,QACA,aACA,sBACA,2BAEA,GAEAE,UACA,iDACA,2DACA,sBACA,0BACA,EACAC,QAAAA,CACAC,iBACA,YACAC,IAAA,4DACAC,MAAA,EAAAP,WACA,iBAEA,EACAQ,sBACA,YACAF,IAAA,+EACAC,MAAA,EAAAP,WACA,kBAEA,EACAX,eACA,eACA,EACAH,aAAAA,GACA,wCACA,GAEAuB,WAAAA,CAAAC,eAAAA,EAAAA,EAAAC,cAAAA,EAAAA,EAAAC,cAAAA,EAAAA,IC3EuQ,I,UCQnQC,GAAY,OACd,EACAnC,EACAqB,GACA,EACA,KACA,WACA,MAIF,EAAec,EAAiB,O","sources":["webpack://cbn-magazine/./src/views/SubjectArticle/SubjectArticle.vue","webpack://cbn-magazine/src/views/SubjectArticle/SubjectArticle.vue","webpack://cbn-magazine/./src/views/SubjectArticle/SubjectArticle.vue?65ad","webpack://cbn-magazine/./src/views/SubjectArticle/SubjectArticle.vue?8217"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.article)?_c('div',{staticClass:\"home-article\",on:{\"scroll\":_vm.scrollHieght}},[_c('div',{staticClass:\"header\"},[_c('ArticleHeader',{attrs:{\"scroll\":_vm.scroll},on:{\"article-clear\":_vm.articleClear}})],1),_c('div',[_c('ArticleContent',{attrs:{\"article\":_vm.article,\"recommed\":_vm.recommed}})],1),(_vm.article.probation && _vm.article.article_type == 'subject')?_c('div',{staticClass:\"article\"},[_c('ArticleFooter')],1):_vm._e(),(!_vm.article.probation && _vm.article.article_type == 'subject')?_c('div',{staticClass:\"magazine\"},[_c('span',[_vm._v(_vm._s('¥' + _vm.article.subject.price + '订阅单行本' + '《' + _vm.article.subject.name + '》'))])]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"home-article\" v-if=\"article\" @scroll=\"scrollHieght\">\r\n    <div class=\"header\">\r\n      <ArticleHeader @article-clear=\"articleClear\" :scroll=\"scroll\"/>\r\n    </div>\r\n\r\n    <div>\r\n      <ArticleContent\r\n        :article=\"article\"\r\n        :recommed=\"recommed\"\r\n      ></ArticleContent>\r\n    </div>\r\n\r\n    <div class=\"article\" v-if=\"article.probation && article.article_type == 'subject'\">\r\n      <ArticleFooter />\r\n    </div>\r\n    <div class=\"magazine\" v-if=\"!article.probation && article.article_type == 'subject'\">\r\n      <span>{{'¥' + article.subject.price + '订阅单行本' + '《' + article.subject.name + '》'}}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { debounce } from \"lodash-es\";\r\nimport ArticleContent from \"../../views/HomeChildren/ArticleContent.vue\";\r\nimport ArticleHeader from \"../../components/ArticleHeader.vue\";\r\nimport ArticleFooter from \"../../components/ArticleFooter.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      articleId: this.$route.query.subject_article_id,\r\n      scroll:0,\r\n      article: {},\r\n      recommed:[]\r\n    };\r\n  },\r\n  watch: {\r\n    \"$route.query.subject_article_id\"(val) {\r\n      this.articleId = val;\r\n    },\r\n\r\n    articleId(a, b) {\r\n      if (a != undefined && a != b) {\r\n        this.getArticleData();\r\n        this.getArticleRecommend()\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getArticleData = debounce(this.getArticleData);\r\n    this.getArticleRecommend = debounce(this.getArticleRecommend);\r\n    this.getArticleData();\r\n    this.getArticleRecommend()\r\n  },\r\n  methods: {\r\n    getArticleData() {\r\n      this.$axios\r\n        .get(`http://api2021.cbnweek.com/v4/articles/${this.articleId}`)\r\n        .then(({ data }) => {\r\n          this.article = data;\r\n        });\r\n    },\r\n    getArticleRecommend(){\r\n      this.$axios\r\n        .get(`http://api2021.cbnweek.com:80/v4/articles/${this.articleId}/recommendations`)\r\n        .then(({ data }) => {\r\n          this.recommed = data;\r\n        });\r\n    },\r\n    articleClear(){\r\n      this.article=''\r\n    },\r\n     scrollHieght(event){\r\n      this.scroll=parseInt(event.target.scrollTop)\r\n    }\r\n  },\r\n  components: { ArticleContent, ArticleHeader, ArticleFooter },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.home-article {\r\n  position: fixed;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  left: 0;\r\n  top: 0;\r\n  overflow: auto;\r\n\r\n  .magazine {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    padding: 10px 3vw;\r\n    border-top: 1px solid #eee;\r\n    width: 100%;\r\n    height: 45px;\r\n    color: #fff;\r\n    font-size: 16px;\r\n    background-color: #0090f0;\r\n    z-index: 999;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SubjectArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SubjectArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubjectArticle.vue?vue&type=template&id=9a79202a&scoped=true&\"\nimport script from \"./SubjectArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./SubjectArticle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubjectArticle.vue?vue&type=style&index=0&id=9a79202a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9a79202a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","article","staticClass","on","scrollHieght","attrs","scroll","articleClear","recommed","probation","article_type","_e","_v","_s","subject","price","name","staticRenderFns","data","articleId","watch","created","methods","getArticleData","get","then","getArticleRecommend","components","ArticleContent","ArticleHeader","ArticleFooter","component"],"sourceRoot":""}