"use strict";(self["webpackChunkcbn_magazine"]=self["webpackChunkcbn_magazine"]||[]).push([[888],{6888:function(t,e,c){c.r(e),c.d(e,{default:function(){return o}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"subject"},[t.list[0]?e("ul",{staticClass:"subject-list"},t._l(t.list,(function({id:c,cover_url:a,name:s,display_time:i},h){return e("li",{key:c,style:{marginRight:(h+1)%3!=0?"3vw":""},on:{click:function(e){return t.goMagazineData(c,t.ischeck,h)}}},[e("img",{attrs:{src:a}}),e("span",{staticClass:"name"},[t._v(t._s(s))]),e("span",{staticClass:"time"},[t._v(t._s(t.getTime(i)))]),e("button",{directives:[{name:"show",rawName:"v-show",value:!t.checkarr[h].check&&t.ischeck,expression:"!checkarr[index].check && ischeck"}],staticClass:"check",attrs:{type:"button"}}),e("button",{directives:[{name:"show",rawName:"v-show",value:t.checkarr[h].check&&t.ischeck,expression:"checkarr[index].check && ischeck"}],staticClass:"isCheck",attrs:{type:"button"}})])})),0):t._e(),t.list[0]?t._e():e("div",{staticClass:"none"},[e("img",{attrs:{src:c(5298)}}),e("span",[t._v("暂无离线数据")])]),t.ischeck?e("div",{staticClass:"arrangement"},[e("div",{staticClass:"allcheck",on:{click:t.all}},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.allcheck,expression:"allcheck"}],staticClass:"button1",attrs:{type:"button"}}),e("button",{directives:[{name:"show",rawName:"v-show",value:!t.allcheck,expression:"!allcheck"}],staticClass:"button2",attrs:{type:"button"}}),e("span",[t._v("全部选中")])]),e("wd-button",{attrs:{size:"small"},on:{click:t.remove}},[t._v("删除")])],1):t._e()])},s=[],i=(c(7658),c(7276)),h={props:["ischeck"],data(){return{list:[],checkarr:[],allcheck:!0,checknum:0,tranarr:[]}},created(){this.getSubjectData()},methods:{getTime(t){return(0,i.tP)(t)},getSubjectData(){this.list=JSON.parse(localStorage.getItem("SAVE_SUBJECT")),this.list[0]&&this.list.forEach((()=>{this.checkarr.push({check:!1})}))},goMagazineData(t,e,c){e?(this.checkarr[c].check=!this.checkarr[c].check,this.checkarr.forEach((({check:t})=>{this.checknum=1==t?this.checknum+1:this.checknum})),this.allcheck=this.checknum!=this.checkarr.length):this.$router.push(`/magazineData?&magazineData_type=Theme&magazineData_id=${t}`),this.checknum=0},all(){this.allcheck?this.checkarr=this.checkarr.map((()=>(this.allcheck=!1,{check:!0}))):this.checkarr=this.checkarr.map((()=>(this.allcheck=!0,{check:!1})))},remove(){console.log(this.list,this.checkarr),this.list=this.list.filter(((t,e)=>0==this.checkarr[e].check)),this.tranarr=JSON.stringify(this.list),window.localStorage.setItem("SAVE_SUBJECT",this.tranarr)}}},r=h,n=c(1001),l=(0,n.Z)(r,a,s,!1,null,"b8c8207a",null),o=l.exports},7276:function(t,e,c){c.d(e,{_3:function(){return a},tP:function(){return i},vV:function(){return s}});const a=t=>{let e=new Date(t),c=`${e.getFullYear()}年${e.getMonth()>=9?e.getMonth()+1:"0"+(e.getMonth()+1)}月${e.getDate()>=10?e.getDate():"0"+e.getDate()}日`;return c};function s(t){let e=new Date(t),c=`${e.getMonth()>=9?e.getMonth()+1:"0"+(e.getMonth()+1)}月${e.getDate()>=10?e.getDate():"0"+e.getDate()}日`;return c}const i=t=>{let e=new Date(t),c=`${e.getFullYear()}.${e.getMonth()>=9?e.getMonth()+1:"0"+(e.getMonth()+1)}.${e.getDate()>=10?e.getDate():"0"+e.getDate()}`;return c}}}]);
//# sourceMappingURL=888.6525556e.js.map